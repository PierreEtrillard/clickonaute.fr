<main>
  <h2>Estimez le coût de création de votre site en 3 clics !</h2>
  <nav>
    <h3>Etape {{ formFillStep$ | async }}</h3>
    <ul id="steps">
      <li>
        <div
          class="step"
          [ngClass]="
            (formFillStep$ | async) === 1
              ? 'space-button'
              : 'space-button space-button-disabled'
          "
          (click)="stepNav(1)"
        >
          1
        </div>
      </li>
      <li>
        <div class="step space-button" [ngClass]="" (click)="stepNav(2)">2</div>
      </li>
      <li>
        <div class="step space-button" [ngClass]="" (click)="stepNav(3)">3</div>
      </li>
    </ul>
  </nav>

  <form [formGroup]="estimatorForm">
    <!-- Types de projet -->
    <fieldset formGroupName="scale" *ngIf="(formFillStep$ | async) === 1">
      <legend>Quel type de projet envisagez vous ?</legend>
      <p class="sel-wrapper">
        <label for="vitrine">Un site simple pour être visible sur le net</label>
        <input
          name="type"
          formControlName="type"
          id="vitrine"
          type="radio"
          value="vitrine"
        />
      </p>
      <p class="sel-wrapper">
        <label for="e-commerce"
          >un site de e-commerce me permettant de développer mon activitée en
          ligne
        </label>
        <input
          name="type"
          formControlName="type"
          id="e-commerce"
          type="radio"
          value="e-commerce"
        />
      </p>
      <p class="sel-wrapper">
        <label for="appli">Une application metier disponible hors ligne</label>
        <input
          name="type"
          formControlName="type"
          id="appli"
          type="radio"
          value="appli"
        />
      </p>

      <p class="sel-wrapper">
        <label for="pages">Choisissez le nombre de pages de votre projet</label>
        <input type="number" id="pages" formControlName="pages" value="1" />
      </p>
      Souhaitez vous une assistance pour heberger votre site ? <br />
      <p class="sel-wrapper">
        <input
          name="hebergement"
          formControlName="hebergement"
          id="hebYes"
          type="radio"
          value=true
        />
        <label for="hebYes">oui</label>
        <input
          name="hebergement"
          formControlName="hebergement"
          id="hebNo"
          type="radio"
          value=false
        />
        <label for="hebNo">non</label>
      </p>
      <button class="space-button next" (click)="stepNav(2)">suivant</button>
    </fieldset>
    <!-- Aspects Graphiques -->
    <fieldset
      formGroupName="grapĥicalAspects"
      *ngIf="(formFillStep$ | async) === 2"
    >
      <legend>Aspects graphiques</legend>Votre projet est il déja déssiné ?
      <p class="sel-wrapper">
        <label for="avec-maquette">Oui, je possède déja une maquette de mon projet</label>
        <input
          type="radio"
          id="avec-maquette"
          formControlName="maquette"
          value=false
          />
          <label for="sans-maquette">Non</label>
          <input
          type="radio"
          id="sansmaquette"
          formControlName="maquette"
          value=true
        />
      </p>

      <p class="sel-wrapper">
        <label for="police">J'ai choisi une police d'écriture</label>
        <input
          type="checkbox"
          id="police"
          formControlName="police"
          value="oui"
        />
      </p>

      <p class="sel-wrapper">
        <label for="color">Je possède les logos et illustrations nécessaires à mon projet</label>
        <input type="checkbox" id="color" formControlName="colors" />
      </p>

      <button class="space-button preview" (click)="stepNav(1)">retour</button>
      <button class="space-button next" (click)="stepNav(3)">suivant</button>
    </fieldset>
    <!-- Fonctionnalités -->
    <fieldset formGroupName="features" *ngIf="(formFillStep$ | async) === 3">
      <legend>Fonctionalités</legend>
      <p class="sel-wrapper">
        <label for="payOnline">intégrer le paiement en ligne</label>
        <input
          type="checkbox"
          id="payOnline"
          formControlName="payOnline"
          value="oui"
        />
      </p>

      <p class="sel-wrapper">
        <label for="location">un plan d'accés</label>
        <input
          type="checkbox"
          id="location"
          formControlName="location"
          value="oui"
        />
      </p>

      <p class="sel-wrapper">
        <label for="cookies"
          >mettre en place des cookies de ciblage
          <a routerLink="/faq/cookies"
            >(voir la pages tout sur les cookies)</a
          ></label
        >
        <input
          type="checkbox"
          id="cookies"
          formControlName="cookies"
          value="oui"
        />
      </p>

      <p class="sel-wrapper">
        <label for="account">Création et gestion de comptes utilisateurs</label>
        <input type="checkbox" id="account" formControlName="account" />
      </p>

      <p class="sel-wrapper">
        <label for="other"
          >J'ai besoin d'une fonctionalité spécifique dont voici les
          détails</label
        >
        <input id="other" type="checkbox" formControlName="other" />
        <button class="space-button preview" (click)="stepNav(2)">
          retour
        </button>
        <button class="space-button next" (click)="result()">
          estimation*
        </button>
      </p>
    </fieldset>
  </form>
</main>
